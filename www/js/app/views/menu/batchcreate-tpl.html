<div class="am-g am-panel am-panel-default">
    <header class="am-panel-hd">
        <h3 class="am-panel-title">批量创建用户</h3>
    </header>
    <br/>
    <div class="am-u-sm-12">
        <div class="am-panel am-panel-default">
            <div class="am-panel-hd">文件上传</div>
            <div class="am-panel-bd">
                <div id="uploader">
                    <div class="queueList">
                        <div id="dndArea" class="placeholder">
                            <div id="filePicker">
                                <div class="am-form-group am-form-file">
                                    <button type="button" class="am-btn am-btn-secondary am-btn-sm">
                                        <i class="am-icon-cloud-upload"></i> 选择要上传的文件</button>
                                    <input id="doc-form-file" type="file" data-bind="file: {data: fileInput, name: fileName, reader: someReader}, event: { change: $root.uploadFileChange}">
                                </div>
                            </div>
                            <p>或将文件拖到这里</p>
                        </div>
                    </div>
                    <div class="statusBar am-hide">
                        <div class="am-g">
                            <div class="am-u-sm-4">
                                <div id="file-list"></div>
                            </div>
                            <div class="am-u-sm-6">
                                <div class="am-progress am-progress-striped">
                                    <div class="am-progress-bar am-progress-bar-success"
                                         data-bind="text: uploadProgress, style:{width: uploadProgressWidth}"></div>
                                </div>
                            </div>
                            <div class="am-u-sm-2">
                                <div class="am-fr">
                                    <button type="button" class="am-btn am-btn-secondary am-btn-sm am-text-sm"
                                            data-bind="click:btnBatchUploadClick">开始上传</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="am-u-sm-12">
        <div class="am-panel am-panel-default">
            <div class="am-panel-hd">
                <h4 class="am-panel-title">上传预览</h4>
            </div>
            <div class="am-panel-bd">
                <p data-bind="text: previewText"></p>
                <button class="am-btn am-btn-secondary am-btn-sm am-text-sm am-hide" data-bind="click:downloadFailed" id="btnDownload">
                    下载失败列表
                </button>
            </div>
            <table class="am-table am-table-bd am-table-striped am-table-hover">
                <thead>
                <tr>
                    <th>姓名</th><th>手机号码</th><th>公司名</th><th>地址</th><th>成功上传</th>
                </tr>
                </thead>
                <tbody data-bind="foreach: batchCreatePreviewList">
                <tr>
                    <td><a href="javascript:;" data-bind="text: $data.name, click:$parent.getUserDetailInfo" data-am-modal="{target: '#my-alert'}"></a></td>
                    <td data-bind="text: $data.phone"></td>
                    <td data-bind="text: $data.enterprise.name"></td>
                    <td data-bind="text: $data.enterprise.addressDetail"></td>
                    <td data-bind="text: $data.uploadstatus"></td>
                </tr>
                </tbody>
            </table>
        </div>
        <button class="am-btn am-btn-secondary am-btn-sm am-text-sm" data-bind="click:confirmUpload" disabled id="btnConfirmUpload">
            <i id="btnConfirmSpin"></i>
            批量创建
        </button>
    </div>
    <br/>
</div>
<div class="am-modal am-modal-alert" tabindex="-1" id="my-alert">
    <div class="am-modal-dialog">
        <div class="am-modal-hd">公司详细信息</div>
        <div class="am-modal-bd">
            <div>
                <label data-bind="text: popEnterpriseName"></label>
            </div>
            <div>
                <label data-bind="text: popEnterpriseZone"></label>
            </div>
            <div>
                <label data-bind="text: popEnterpriseDistrict"></label>
            </div>
            <div>
                <label data-bind="text: popEnterpriseCity"></label>
            </div>
            <div>
                <label data-bind="text: popEnterpriseCountry"></label>
            </div>
            <div>
                <label data-bind="text: popEnterpriseAddressDetail"></label>
            </div>
            <div>
                <label data-bind="text: popEnterpriseOrgCode"></label>
            </div>
        </div>
        <div class="am-modal-footer">
            <span class="am-modal-btn">确定</span>
        </div>
    </div>
</div>

<div class="am-modal am-modal-loading am-modal-no-btn" tabindex="-1" id="batch-upload-modal-loading">
    <div class="am-modal-dialog">
        <div class="am-modal-hd">正在上传...</div>
        <div class="am-modal-bd">
            <span class="am-icon-spinner am-icon-spin"></span>
        </div>
    </div>
</div>
<div class="am-modal am-modal-alert" tabindex="-1" id="errorAlert">
    <div class="am-modal-dialog">
        <div class="am-modal-hd">出错啦</div>
        <div class="am-modal-bd" data-bind="foreach: errorMsgs">
            <label class="checkbox">
                <span data-bind="text: $data.message"></span>
            </label>
        </div>
        <div class="am-modal-footer">
            <span class="am-modal-btn">确定</span>
        </div>
    </div>
</div>
<a href="#" class="am-show-sm-only admin-menu" data-am-offcanvas="{target: '#admin-offcanvas'}">
    <span class="am-icon-btn am-icon-th-list"></span>
</a>